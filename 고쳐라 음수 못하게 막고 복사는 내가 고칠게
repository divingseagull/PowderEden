import asyncio
import discord
from discord.ext import commands
from Utills.JSONUtils import JSONUtils
import os
import json

modules = []
app = commands.Bot(command_prefix="!")

token = "ODczMTY2MTU5Oã…ã„´ã…‡ã„»ã„´ã„¹ã…‡ã…‡ã…ã„´ã„¹w0F26efOSA"
a = [['â¬›ï¸' for i in range(10)] for i in range(10)]


@app.command(name='ë°°ì¹˜')
async def roll(ctx, Unit, xt, yt):
    await ctx.send(f'{xt}x {yt}yì— {Unit}ì´(ê°€) ë°°ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤')
    print(xt,yt)
    #print(a)
    x = int(xt)
    y = int(yt)
    a[x-1][y-1] = 'ğŸš€'
    for i in range(0,10):
        for j in range(0,10):
            print(a[j][i],end= ' ')
        print()
    JSONUtils.write("Data/Map.json", object=a)
    print("ë°°ì¹˜")
@app.command(name='ìƒì„±')
async def roll(ctx, Unit, Count):
    await ctx.send(f'{Unit}ì´(ê°€) {Count}ê°œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤')
    print("ìƒì„±")
@app.command(name='ì´ë™')
async def roll(ctx, Unit, xm, ym, xt, yt):
    await ctx.send(f'{xt}x {yt}yë¡œ {Unit}ì´(ê°€) ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤')
    print(xt,yt)
    print(xm,ym)
    #print(a)
    x = int(xt)
    y = int(yt)
    xm = int(xm)
    ym = int(ym)
    a[xm-1][ym-1] = 'â¬›ï¸'
    a[x-1][y-1] = 'ğŸš€'
    for i in range(0,10):
        for j in range(0,10):
            print(a[j][i],end= ' ')
        print()
    JSONUtils.write("Data/Map.json", object=a)
    print("ì´ë™")
@app.command(name='ë§µ')
async def roll(ctx):
    print("ë§µ")
    #await ctx.send(f'{str(a).split("], ")}')
    
    strmap: str = ""

    for i in a:   
        for j in i:
            strmap += str(j)
        strmap += "\n"
    await ctx.send(f'{strmap}')
@app.command(name='ã…†')
async def roll(ctx):
    await ctx.send('ã…‚!')
    print("ã…†")
@app.event
async def on_ready():
    print("ë‹¤ìŒìœ¼ë¡œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤ : ")
    print(app.user.name)
    print(app.user.id)
    print("==========")
    game = discord.Game(":exploding_head:")
    await app.change_presence(status=discord.Status.online, activity=game)

if __name__ == "__main__":
    for module in modules:
        app.load_extension(module)
        print(f"Module {module} has been loaded")
    print("------------------------------")

app.run(token)
